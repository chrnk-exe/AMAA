## WebSockets

Использовать потенциал socket.io на полную времени нет, так что делаю как могу.

### shell API (web-sockets)

#### События, на которые может подписатся клиент:

* commandResult - вывод команды вместе с индексом консоли
* spawnedShell - информация об удачном спавне шелла
* shellsList - список текущих шеллов
* killResult - удачное или неудачное убийство процесса шелла

#### События, на которые отвечает сервер:

* spawn - создание шелла
* shells - запрос шеллов в shellsList
* kill - удаление шелла, указывается его pid (идентфикатор), ответ удачный или нет в killResult
* command - выполнение команды, ответ приходит в commandResult

Request:

```json
{
  "pid": 1,
  "cmd": "id"
}
```

Response (может быть несколько, в зависимости от вывода):

```json
{
  "pid": 1,
  "commandOutput": "uid=0(root)..."
}
```

### files API (web-sockets)

#### События, на которые может подписаться клиент:

directoryContent - вывод содержимого директории, нужно подсветить следующее:

* Директории (иконка диры)
* Файлы (иконка файла?)
* Ссылки (например /bin -> /system/bin) и ?сделать неактивными?

fileContent - вывод содержимого файла (в зависимости от его расширения нужно смотреть, как представлять)

* Обычный вывод (cat)
* json
* xml
* sqlite* (скорее всего нужно просто скачать эту бд в какую-нибудь папку TEMP и делать запросы к ней)

#### События, которые может отправлять клиент:

listDirectories - вывод содержимого директории (ответ в directoryContent)

fileContent - вывод содержимого файла (ответ в fileContent)



